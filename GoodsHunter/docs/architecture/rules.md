# GoodsHunter 项目编码规则

本文档定义了 GoodsHunter 项目的编码规范和开发规则。这些规则用于指导 AI 助手在项目中进行代码编写和修改。

GoodsHunter 是一个商品信息抓取、处理和展示系统，采用分层架构设计。其项目具体架构需要参考如下文档：
`docs/architecture/architecture.md`

## 核心原则

1. **保持模块化**: 每个模块职责清晰，低耦合高内聚
2. **幂等性优先**: 所有数据处理操作应保证幂等性
3. **错误处理**: 完善的错误处理和日志记录
4. **类型安全**: 充分利用类型系统（Python 类型提示、TypeScript）
5. **性能考虑**: 批量操作、连接池、索引优化等
6. **架构文档维护**: 每当对模块进行了较大的修改改动：比如改动了核心框架、增加了流程（并非修改一个bug/某个函数行为这种修改），都需要修改项目架构文档。
7. **Readme文档维护**：在一个模块下，不要主动生产过多的.md文档，尽量都糅合进Readme.md当中。如果比较重要，实在需要多个文档说明，则增加一个README_detail的文件夹来存放详细文档。
8. **数据库维护**：当需要生成新的表时，将建表语句加入`GoodsHunter/storage/db/init.sql`中，如果对数据库做了修改（alter），则也要根据实际修改的内容来更改建表语句。当需要修改表结构的时候，新增一个新的sql/python脚本，并提供执行的命令行（注意要用正确用户名密码连接正确的库），并且提供一个“回滚脚本“，以防需要回滚。
## 

- [项目架构文档](./architecture.md)
- [项目根目录 `.cursorrules`](../../.cursorrules)

## 其他注意事项：
不要使用docker-compose，目前都是docker compose命令了。
在sandox等场景调用python命令之前，请使用source GoodsHunter/../.venv/bin/activate(即父层级的uv环境)
代码要尽量可以复用，尽量不要在不同的地方写相同/类似功能的代码。在进行这类行为前需要征求用户同意，或者用户主动指使